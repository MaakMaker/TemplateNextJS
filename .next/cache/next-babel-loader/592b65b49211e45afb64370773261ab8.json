{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport { Avatar, Timeline } from \"antd\";\nimport WidgetHeader from \"../../../components/WidgetHeader/index\";\nimport ActivityItem from \"./ActivityItem\";\nconst TimeLineItem = Timeline.Item;\n\nfunction getName(task, shape) {\n  if (task.avatar === '') {\n    let nameSplit = task.name.split(\" \");\n\n    if (task.name.split(\" \").length === 1) {\n      const initials = nameSplit[0].charAt(0).toUpperCase();\n      return __jsx(Avatar, {\n        shape: shape,\n        className: \"gx-size-40 gx-bg-primary\"\n      }, initials);\n    } else {\n      const initials = nameSplit[0].charAt(0).toUpperCase() + nameSplit[1].charAt(0).toUpperCase();\n      return __jsx(Avatar, {\n        shape: shape,\n        className: \"gx-size-40 gx-bg-cyan\"\n      }, initials);\n    }\n  } else {\n    return __jsx(Avatar, {\n      shape: shape,\n      className: \"gx-size-40\",\n      src: task.avatar\n    });\n  }\n}\n\nconst RecentActivity = props => {\n  const {\n    0: limit,\n    1: setLimit\n  } = useState(3);\n  const {\n    0: shape,\n    1: setShape\n  } = useState(props.shape);\n  useEffect(() => {\n    setShape(props.shape);\n\n    if (window.innerWidth < 575) {\n      setLimit(1);\n    }\n  }, [props.shape]);\n\n  const onLoadMore = () => {\n    setLimit(limit + 1);\n  };\n\n  return __jsx(\"div\", {\n    className: \"gx-entry-sec\"\n  }, __jsx(WidgetHeader, {\n    title: \"Recent Activities\"\n  }), props.recentList.slice(0, limit).map((activity, index) => __jsx(\"div\", {\n    className: \"gx-timeline-info\",\n    key: \"activity\" + index\n  }, __jsx(\"h4\", {\n    className: \"gx-timeline-info-day\"\n  }, activity.day), __jsx(Timeline, null, activity.tasks.map((task, index) => {\n    return __jsx(TimeLineItem, {\n      key: \"timeline\" + index,\n      mode: \"alternate\",\n      dot: getName(task, shape)\n    }, __jsx(ActivityItem, {\n      task: task\n    }));\n  })))), __jsx(\"span\", {\n    className: \"gx-link gx-btn-link\",\n    onClick: onLoadMore\n  }, \"Load More\"));\n};\n\nexport default RecentActivity;","map":{"version":3,"sources":["D:/TemplateAdminPro/app/components/dashboard/CRM/RecentActivity.js"],"names":["React","useState","useEffect","Avatar","Timeline","WidgetHeader","ActivityItem","TimeLineItem","Item","getName","task","shape","avatar","nameSplit","name","split","length","initials","charAt","toUpperCase","RecentActivity","props","limit","setLimit","setShape","window","innerWidth","onLoadMore","recentList","slice","map","activity","index","day","tasks"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from \"react\";\r\nimport {Avatar, Timeline} from \"antd\";\r\nimport WidgetHeader from \"../../../components/WidgetHeader/index\";\r\nimport ActivityItem from \"./ActivityItem\";\r\n\r\nconst TimeLineItem = Timeline.Item;\r\n\r\nfunction getName(task, shape) {\r\n  if (task.avatar === '') {\r\n    let nameSplit = task.name.split(\" \");\r\n    if (task.name.split(\" \").length === 1) {\r\n      const initials = nameSplit[0].charAt(0).toUpperCase();\r\n      return <Avatar shape={shape} className=\"gx-size-40 gx-bg-primary\">{initials}</Avatar>\r\n    } else {\r\n      const initials = nameSplit[0].charAt(0).toUpperCase() + nameSplit[1].charAt(0).toUpperCase();\r\n      return <Avatar shape={shape} className=\"gx-size-40 gx-bg-cyan\">{initials}</Avatar>\r\n    }\r\n  } else {\r\n    return <Avatar shape={shape} className=\"gx-size-40\" src={task.avatar}/>;\r\n  }\r\n}\r\n\r\nconst RecentActivity =(props)=> {\r\n\r\n  const [limit, setLimit] = useState(3);\r\n  const [shape, setShape] = useState(props.shape);\r\n\r\n  useEffect(() => {\r\n    setShape(props.shape);\r\n    if (window.innerWidth < 575) {\r\n      setLimit(1)\r\n    }\r\n  }, [props.shape]);\r\n\r\n\r\n  const onLoadMore =()=> {\r\n    setLimit(limit+1)\r\n  };\r\n\r\n    return (\r\n      <div className=\"gx-entry-sec\">\r\n        <WidgetHeader title=\"Recent Activities\"/>\r\n        {props.recentList.slice(0, limit).map((activity, index) =>\r\n          <div className=\"gx-timeline-info\" key={\"activity\" + index}>\r\n            <h4 className=\"gx-timeline-info-day\">{activity.day}</h4>\r\n            <Timeline>\r\n              {activity.tasks.map((task, index) => {\r\n\r\n                return <TimeLineItem key={\"timeline\" + index} mode=\"alternate\" dot={\r\n                  getName(task, shape)\r\n                }>\r\n                  <ActivityItem task={task}/>\r\n                </TimeLineItem>\r\n              })}\r\n            </Timeline>\r\n          </div>)}\r\n        <span className=\"gx-link gx-btn-link\" onClick={onLoadMore}>Load More</span>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default RecentActivity;\r\n"]},"metadata":{},"sourceType":"module"}